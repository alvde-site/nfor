import{u as m,j as t,S as u,B as a,L as j,a as f,r as d,A as g,I as y,d as C,v,T as b,b as l,c as L,t as k,D as w,H as I}from"./index-KqdfcUzf.js";import{C as S}from"./config-global-BPYwBEoI.js";import{L as B,C as T,c as A}from"./Collapse-NuX9oeqK.js";import{L as P}from"./label-D-mgxN4b.js";import{I as p}from"./flag-icon-DePsSLVt.js";import{C as W}from"./Card-C4R6tDKE.js";import{C as D}from"./CardHeader-BTKZ__N4.js";import{G as x}from"./Grid2-ByRdEAC3.js";import"./users-CX3G6kN4.js";function E({title:n,subheader:e,list:o,...r}){const c=m(),i=()=>{c("/concert")};return t.jsxs(W,{...r,children:[r.datalength?t.jsx(D,{title:n,subheader:e,sx:{mb:1}}):"",r.datalength?t.jsx(u,{children:t.jsx(a,{sx:{minWidth:744},children:o.map(s=>t.jsx(H,{item:s},s.id))})}):t.jsx(j,{sx:{margin:"50px auto 0",width:"90%"}}),t.jsx(a,{sx:{p:2,textAlign:"right"},children:t.jsx(f,{size:"small",color:"inherit",endIcon:t.jsx(p,{icon:"eva:arrow-ios-forward-fill",width:18,sx:{ml:-.5}}),onClick:i,children:"Все концерты"})})]})}function H({sx:n,item:e,...o}){const[r,c]=d.useState(!1),i=()=>{c(!r)};return t.jsxs(a,{children:[t.jsxs(a,{sx:{py:2,px:3,gap:2,display:"flex",alignItems:"center",borderBottom:s=>`dashed 1px ${s.vars.palette.divider}`,...n},...o,onClick:i,children:[t.jsx(g,{variant:"rounded",alt:e.title,src:e.coverUrl,sx:{width:48,height:48,flexShrink:0}}),t.jsx(a,{sx:{minWidth:38,flexShrink:0,color:"text.disabled",typography:"caption"},children:t.jsx(y,{"aria-label":"Сообщение",children:e.comments!=="null"&&t.jsx(p,{width:22,icon:"ic:baseline-announcement",sx:{color:"info.main"}})})}),t.jsx(B,{primary:e.title,secondary:e.description,primaryTypographyProps:{noWrap:!0,typography:"subtitle2"},secondaryTypographyProps:{mt:.5,noWrap:!0,component:"span"},sx:{flex:"1 0 auto"}}),t.jsx(a,{sx:{flexShrink:0,color:"text.disabled",typography:"caption"},children:t.jsx(P,{color:e.approved&&"success"||"error",children:e.approved?"Утверждено":"Прогноз"})}),t.jsx(a,{sx:{flexShrink:0,color:"text.disabled",typography:"caption"},children:C(e.concertDate)})]}),e.comments!=="null"&&t.jsx(T,{in:r,timeout:"auto",unmountOnExit:!0,children:t.jsx(a,{sx:{py:2,px:3,fontStyle:"italic",backgroundColor:s=>`${v(s.vars.palette.info.lighterChannel,.48)}`,borderBottom:s=>`dashed 1px ${s.vars.palette.divider}`,...n},...o,children:e.comments.split("///").map((s,h)=>t.jsx(b,{variant:"body1",children:s},h))})})]})}l.extend(L);l.extend(k);function N({formattedData:n}){const[e,o]=d.useState([]);return d.useEffect(()=>{function r(){if(n.length){const i=A(n).filter(s=>l().startOf("day")<=l(s.concertDate[s.concertDate.length-1]));o(i)}}r()},[n]),t.jsx(w,{maxWidth:"xl",children:t.jsx(x,{container:!0,spacing:3,children:t.jsx(x,{xs:12,children:t.jsx(E,{title:e.slice(0,10).length?"Ближайшие концерты":"В этом сезоне больше нет концертов",list:e.slice(0,10),datalength:n.length})})})})}function J({data:n}){return t.jsxs(t.Fragment,{children:[t.jsxs(I,{children:[t.jsxs("title",{children:[" ",`Главная - ${S.appName}`]}),t.jsx("meta",{name:"description",content:"Расписание группы тромбонов оркестра НФОР"}),t.jsx("meta",{name:"keywords",content:"НФОР, тромбоны"})]}),t.jsx(N,{formattedData:n})]})}export{J as default};
