import{g as mt,f as bt,aA as _t,h as be,i as oe,_ as ee,aB as xt,r as le,k as Vt,l as Ft,j as w,m as Kt,n as At,ag as k,a as Zt,aC as Yt,aD as Jt,I as Qt,aE as Xt,aF as er,B as tt,T as tr,H as rr}from"./index-KqdfcUzf.js";import{C as sr}from"./config-global-BPYwBEoI.js";import{T as kt}from"./TextField-Bd7JLBZs.js";import{I as ir}from"./flag-icon-DePsSLVt.js";import{I as ar}from"./InputAdornment-DTUOQMaH.js";import{u as nr}from"./useFormControl-CIGFl4uM.js";import"./Select-DZdw3Gpm.js";function or(e){return mt("MuiCircularProgress",e)}bt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const lr=["className","color","disableShrink","size","style","thickness","value","variant"];let Ce=e=>e,rt,st,it,at;const ae=44,ur=_t(rt||(rt=Ce`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),dr=_t(st||(st=Ce`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),cr=e=>{const{classes:r,variant:t,color:i,disableShrink:o}=e,n={root:["root",t,`color${oe(i)}`],svg:["svg"],circle:["circle",`circle${oe(t)}`,o&&"circleDisableShrink"]};return At(n,or,r)},fr=be("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${oe(t.color)}`]]}})(({ownerState:e,theme:r})=>ee({display:"inline-block"},e.variant==="determinate"&&{transition:r.transitions.create("transform")},e.color!=="inherit"&&{color:(r.vars||r).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&xt(it||(it=Ce`
      animation: ${0} 1.4s linear infinite;
    `),ur)),yr=be("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),gr=be("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${oe(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})(({ownerState:e,theme:r})=>ee({stroke:"currentColor"},e.variant==="determinate"&&{transition:r.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&xt(at||(at=Ce`
      animation: ${0} 1.4s ease-in-out infinite;
    `),dr)),hr=le.forwardRef(function(r,t){const i=Vt({props:r,name:"MuiCircularProgress"}),{className:o,color:n="primary",disableShrink:u=!1,size:d=40,style:b,thickness:p=3.6,value:_=0,variant:S="indeterminate"}=i,m=Ft(i,lr),O=ee({},i,{color:n,disableShrink:u,size:d,thickness:p,value:_,variant:S}),B=cr(O),F={},V={},U={};if(S==="determinate"){const v=2*Math.PI*((ae-p)/2);F.strokeDasharray=v.toFixed(3),U["aria-valuenow"]=Math.round(_),F.strokeDashoffset=`${((100-_)/100*v).toFixed(3)}px`,V.transform="rotate(-90deg)"}return w.jsx(fr,ee({className:Kt(B.root,o),style:ee({width:d,height:d},V,b),ownerState:O,ref:t,role:"progressbar"},U,m,{children:w.jsx(yr,{className:B.svg,ownerState:O,viewBox:`${ae/2} ${ae/2} ${ae} ${ae}`,children:w.jsx(gr,{className:B.circle,style:F,ownerState:O,cx:ae,cy:ae,r:(ae-p)/2,fill:"none",strokeWidth:p})})}))});var _e=e=>e.type==="checkbox",de=e=>e instanceof Date,$=e=>e==null;const St=e=>typeof e=="object";var P=e=>!$(e)&&!Array.isArray(e)&&St(e)&&!de(e),Dt=e=>P(e)&&e.target?_e(e.target)?e.target.checked:e.target.value:e,vr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pt=(e,r)=>e.has(vr(r)),mr=e=>{const r=e.constructor&&e.constructor.prototype;return P(r)&&r.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Oe&&(e instanceof Blob||i))&&(t||P(e)))if(r=t?[]:{},!t&&!mr(e))r=e;else for(const o in e)e.hasOwnProperty(o)&&(r[o]=T(e[o]));else return e;return r}var Ee=e=>/^\w*$/.test(e),L=e=>e===void 0,Ue=e=>Array.isArray(e)?e.filter(Boolean):[],Ne=e=>Ue(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!P(e))return t;const i=(Ee(r)?[r]:Ne(r)).reduce((o,n)=>$(o)?o:o[n],e);return L(i)||i===e?L(e[r])?t:e[r]:i},H=e=>typeof e=="boolean",C=(e,r,t)=>{let i=-1;const o=Ee(r)?[r]:Ne(r),n=o.length,u=n-1;for(;++i<n;){const d=o[i];let b=t;if(i!==u){const p=e[d];b=P(p)||Array.isArray(p)?p:isNaN(+o[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=b,e=e[d]}};const ke={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},te={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ct=k.createContext(null);Ct.displayName="HookFormContext";const $e=()=>k.useContext(Ct);var Et=(e,r,t,i=!0)=>{const o={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const u=n;return r._proxyFormState[u]!==Z.all&&(r._proxyFormState[u]=!i||Z.all),t&&(t[u]=!0),e[u]}});return o};const je=typeof window<"u"?le.useLayoutEffect:le.useEffect;function br(e){const r=$e(),{control:t=r.control,disabled:i,name:o,exact:n}=e||{},[u,d]=k.useState(t._formState),b=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return je(()=>t._subscribe({name:o,formState:b.current,exact:n,callback:p=>{!i&&d({...t._formState,...p})}}),[o,i,n]),k.useEffect(()=>{b.current.isValid&&t._setValid(!0)},[t]),k.useMemo(()=>Et(u,t,b.current,!1),[u,t])}var X=e=>typeof e=="string",wt=(e,r,t,i,o)=>X(e)?(i&&r.watch.add(e),y(t,e,o)):Array.isArray(e)?e.map(n=>(i&&r.watch.add(n),y(t,n))):(i&&(r.watchAll=!0),t);function _r(e){const r=$e(),{control:t=r.control,name:i,defaultValue:o,disabled:n,exact:u}=e||{},d=k.useRef(o),[b,p]=k.useState(t._getWatch(i,d.current));return je(()=>t._subscribe({name:i,formState:{values:!0},exact:u,callback:_=>!n&&p(wt(i,t._names,_.values||t._formValues,!1,d.current))}),[i,t,n,u]),k.useEffect(()=>t._removeUnmounted()),b}function xr(e){const r=$e(),{name:t,disabled:i,control:o=r.control,shouldUnregister:n}=e,u=pt(o._names.array,t),d=_r({control:o,name:t,defaultValue:y(o._formValues,t,y(o._defaultValues,t,e.defaultValue)),exact:!0}),b=br({control:o,name:t,exact:!0}),p=k.useRef(e),_=k.useRef(o.register(t,{...e.rules,value:d,...H(e.disabled)?{disabled:e.disabled}:{}})),S=k.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(b.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(b.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(b.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(b.validatingFields,t)},error:{enumerable:!0,get:()=>y(b.errors,t)}}),[b,t]),m=k.useCallback(V=>_.current.onChange({target:{value:Dt(V),name:t},type:ke.CHANGE}),[t]),O=k.useCallback(()=>_.current.onBlur({target:{value:y(o._formValues,t),name:t},type:ke.BLUR}),[t,o._formValues]),B=k.useCallback(V=>{const U=y(o._fields,t);U&&V&&(U._f.ref={focus:()=>V.focus&&V.focus(),select:()=>V.select&&V.select(),setCustomValidity:v=>V.setCustomValidity(v),reportValidity:()=>V.reportValidity()})},[o._fields,t]),F=k.useMemo(()=>({name:t,value:d,...H(i)||b.disabled?{disabled:b.disabled||i}:{},onChange:m,onBlur:O,ref:B}),[t,i,b.disabled,m,O,B,d]);return k.useEffect(()=>{const V=o._options.shouldUnregister||n;o.register(t,{...p.current.rules,...H(p.current.disabled)?{disabled:p.current.disabled}:{}});const U=(v,G)=>{const j=y(o._fields,v);j&&j._f&&(j._f.mount=G)};if(U(t,!0),V){const v=T(y(o._options.defaultValues,t));C(o._defaultValues,t,v),L(y(o._formValues,t))&&C(o._formValues,t,v)}return!u&&o.register(t),()=>{(u?V&&!o._state.action:V)?o.unregister(t):U(t,!1)}},[t,o,u,n]),k.useEffect(()=>{o._setDisabledField({disabled:i,name:t})},[i,t,o]),k.useMemo(()=>({field:F,formState:b,fieldState:S}),[F,b,S])}const It=e=>e.render(xr(e));var Vr=(e,r,t,i,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:o||!0}}:{},ve=e=>Array.isArray(e)?e:[e],nt=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}},Te=e=>$(e)||!St(e);function ne(e,r){if(Te(e)||Te(r))return e===r;if(de(e)&&de(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const o of t){const n=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const u=r[o];if(de(n)&&de(u)||P(n)&&P(u)||Array.isArray(n)&&Array.isArray(u)?!ne(n,u):n!==u)return!1}}return!0}var q=e=>P(e)&&!Object.keys(e).length,We=e=>e.type==="file",Y=e=>typeof e=="function",Se=e=>{if(!Oe)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},Lt=e=>e.type==="select-multiple",qe=e=>e.type==="radio",Fr=e=>qe(e)||_e(e),Be=e=>Se(e)&&e.isConnected;function Ar(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=L(e)?i++:e[r[i++]];return e}function kr(e){for(const r in e)if(e.hasOwnProperty(r)&&!L(e[r]))return!1;return!0}function M(e,r){const t=Array.isArray(r)?r:Ee(r)?[r]:Ne(r),i=t.length===1?e:Ar(e,t),o=t.length-1,n=t[o];return i&&delete i[n],o!==0&&(P(i)&&q(i)||Array.isArray(i)&&kr(i))&&M(e,t.slice(0,-1)),e}var Pt=e=>{for(const r in e)if(Y(e[r]))return!0;return!1};function De(e,r={}){const t=Array.isArray(e);if(P(e)||t)for(const i in e)Array.isArray(e[i])||P(e[i])&&!Pt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},De(e[i],r[i])):$(e[i])||(r[i]=!0);return r}function Rt(e,r,t){const i=Array.isArray(e);if(P(e)||i)for(const o in e)Array.isArray(e[o])||P(e[o])&&!Pt(e[o])?L(r)||Te(t[o])?t[o]=Array.isArray(e[o])?De(e[o],[]):{...De(e[o])}:Rt(e[o],$(r)?{}:r[o],t[o]):t[o]=!ne(e[o],r[o]);return t}var ge=(e,r)=>Rt(e,r,De(r));const ot={value:!1,isValid:!1},lt={value:!0,isValid:!0};var Mt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!L(e[0].attributes.value)?L(e[0].value)||e[0].value===""?lt:{value:e[0].value,isValid:!0}:lt:ot}return ot},Bt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>L(e)?e:r?e===""?NaN:e&&+e:t&&X(e)?new Date(e):i?i(e):e;const ut={isValid:!1,value:null};var Tt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,ut):ut;function dt(e){const r=e.ref;return We(r)?r.files:qe(r)?Tt(e.refs).value:Lt(r)?[...r.selectedOptions].map(({value:t})=>t):_e(r)?Mt(e.refs).value:Bt(L(r.value)?e.ref.value:r.value,e)}var Sr=(e,r,t,i)=>{const o={};for(const n of e){const u=y(r,n);u&&C(o,n,u._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:i}},pe=e=>e instanceof RegExp,he=e=>L(e)?e:pe(e)?e.source:P(e)?pe(e.value)?e.value.source:e.value:e,ct=e=>({isOnSubmit:!e||e===Z.onSubmit,isOnBlur:e===Z.onBlur,isOnChange:e===Z.onChange,isOnAll:e===Z.all,isOnTouch:e===Z.onTouched});const ft="AsyncFunction";var Dr=e=>!!e&&!!e.validate&&!!(Y(e.validate)&&e.validate.constructor.name===ft||P(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===ft)),pr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),yt=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const me=(e,r,t,i)=>{for(const o of t||Object.keys(e)){const n=y(e,o);if(n){const{_f:u,...d}=n;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],o)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(me(d,r))break}else if(P(d)&&me(d,r))break}}};function gt(e,r,t){const i=y(e,t);if(i||Ee(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const n=o.join("."),u=y(r,n),d=y(e,n);if(u&&!Array.isArray(u)&&t!==n)return{name:t};if(d&&d.type)return{name:n,error:d};if(d&&d.root&&d.root.type)return{name:`${n}.root`,error:d.root};o.pop()}return{name:t}}var Cr=(e,r,t,i)=>{t(e);const{name:o,...n}=e;return q(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(u=>r[u]===(!i||Z.all))},Er=(e,r,t)=>!e||!r||e===r||ve(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),wr=(e,r,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?i.isOnBlur:o.isOnBlur)?!e:(t?i.isOnChange:o.isOnChange)?e:!0,Ir=(e,r)=>!Ue(y(e,r)).length&&M(e,r),Lr=(e,r,t)=>{const i=ve(y(e,t));return C(i,"root",r[t]),C(e,t,i),e},Ae=e=>X(e);function ht(e,r,t="validate"){if(Ae(e)||Array.isArray(e)&&e.every(Ae)||H(e)&&!e)return{type:t,message:Ae(e)?e:"",ref:r}}var fe=e=>P(e)&&!pe(e)?e:{value:e,message:""},vt=async(e,r,t,i,o,n)=>{const{ref:u,refs:d,required:b,maxLength:p,minLength:_,min:S,max:m,pattern:O,validate:B,name:F,valueAsNumber:V,mount:U}=e._f,v=y(t,F);if(!U||r.has(F))return{};const G=d?d[0]:u,j=x=>{o&&G.reportValidity&&(G.setCustomValidity(H(x)?"":x||""),G.reportValidity())},R={},xe=qe(u),se=_e(u),we=xe||se,K=(V||We(u))&&L(u.value)&&L(v)||Se(u)&&u.value===""||v===""||Array.isArray(v)&&!v.length,ue=Vr.bind(null,F,i,R),J=(x,D,I,N=te.maxLength,W=te.minLength)=>{const Q=x?D:I;R[F]={type:x?N:W,message:Q,ref:u,...ue(x?N:W,Q)}};if(n?!Array.isArray(v)||!v.length:b&&(!we&&(K||$(v))||H(v)&&!v||se&&!Mt(d).isValid||xe&&!Tt(d).isValid)){const{value:x,message:D}=Ae(b)?{value:!!b,message:b}:fe(b);if(x&&(R[F]={type:te.required,message:D,ref:G,...ue(te.required,D)},!i))return j(D),R}if(!K&&(!$(S)||!$(m))){let x,D;const I=fe(m),N=fe(S);if(!$(v)&&!isNaN(v)){const W=u.valueAsNumber||v&&+v;$(I.value)||(x=W>I.value),$(N.value)||(D=W<N.value)}else{const W=u.valueAsDate||new Date(v),Q=Ve=>new Date(new Date().toDateString()+" "+Ve),ye=u.type=="time",ce=u.type=="week";X(I.value)&&v&&(x=ye?Q(v)>Q(I.value):ce?v>I.value:W>new Date(I.value)),X(N.value)&&v&&(D=ye?Q(v)<Q(N.value):ce?v<N.value:W<new Date(N.value))}if((x||D)&&(J(!!x,I.message,N.message,te.max,te.min),!i))return j(R[F].message),R}if((p||_)&&!K&&(X(v)||n&&Array.isArray(v))){const x=fe(p),D=fe(_),I=!$(x.value)&&v.length>+x.value,N=!$(D.value)&&v.length<+D.value;if((I||N)&&(J(I,x.message,D.message),!i))return j(R[F].message),R}if(O&&!K&&X(v)){const{value:x,message:D}=fe(O);if(pe(x)&&!v.match(x)&&(R[F]={type:te.pattern,message:D,ref:u,...ue(te.pattern,D)},!i))return j(D),R}if(B){if(Y(B)){const x=await B(v,t),D=ht(x,G);if(D&&(R[F]={...D,...ue(te.validate,D.message)},!i))return j(D.message),R}else if(P(B)){let x={};for(const D in B){if(!q(x)&&!i)break;const I=ht(await B[D](v,t),G,D);I&&(x={...I,...ue(D,I.message)},j(I.message),i&&(R[F]=x))}if(!q(x)&&(R[F]={ref:G,...x},!i))return R}}return j(!0),R};const Pr={mode:Z.onSubmit,reValidateMode:Z.onChange,shouldFocusError:!0};function Rr(e={}){let r={...Pr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Y(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const i={};let o=P(r.defaultValues)||P(r.values)?T(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:T(o),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},b,p=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={..._};const m={array:nt(),state:nt()},O=r.criteriaMode===Z.all,B=s=>a=>{clearTimeout(p),p=setTimeout(s,a)},F=async s=>{if(!r.disabled&&(_.isValid||S.isValid||s)){const a=r.resolver?q((await se()).errors):await K(i,!0);a!==t.isValid&&m.state.next({isValid:a})}},V=(s,a)=>{!r.disabled&&(_.isValidating||_.validatingFields||S.isValidating||S.validatingFields)&&((s||Array.from(d.mount)).forEach(l=>{l&&(a?C(t.validatingFields,l,a):M(t.validatingFields,l))}),m.state.next({validatingFields:t.validatingFields,isValidating:!q(t.validatingFields)}))},U=(s,a=[],l,g,f=!0,c=!0)=>{if(g&&l&&!r.disabled){if(u.action=!0,c&&Array.isArray(y(i,s))){const h=l(y(i,s),g.argA,g.argB);f&&C(i,s,h)}if(c&&Array.isArray(y(t.errors,s))){const h=l(y(t.errors,s),g.argA,g.argB);f&&C(t.errors,s,h),Ir(t.errors,s)}if((_.touchedFields||S.touchedFields)&&c&&Array.isArray(y(t.touchedFields,s))){const h=l(y(t.touchedFields,s),g.argA,g.argB);f&&C(t.touchedFields,s,h)}(_.dirtyFields||S.dirtyFields)&&(t.dirtyFields=ge(o,n)),m.state.next({name:s,isDirty:J(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else C(n,s,a)},v=(s,a)=>{C(t.errors,s,a),m.state.next({errors:t.errors})},G=s=>{t.errors=s,m.state.next({errors:t.errors,isValid:!1})},j=(s,a,l,g)=>{const f=y(i,s);if(f){const c=y(n,s,L(l)?y(o,s):l);L(c)||g&&g.defaultChecked||a?C(n,s,a?c:dt(f._f)):I(s,c),u.mount&&F()}},R=(s,a,l,g,f)=>{let c=!1,h=!1;const A={name:s};if(!r.disabled){if(!l||g){(_.isDirty||S.isDirty)&&(h=t.isDirty,t.isDirty=A.isDirty=J(),c=h!==A.isDirty);const E=ne(y(o,s),a);h=!!y(t.dirtyFields,s),E?M(t.dirtyFields,s):C(t.dirtyFields,s,!0),A.dirtyFields=t.dirtyFields,c=c||(_.dirtyFields||S.dirtyFields)&&h!==!E}if(l){const E=y(t.touchedFields,s);E||(C(t.touchedFields,s,l),A.touchedFields=t.touchedFields,c=c||(_.touchedFields||S.touchedFields)&&E!==l)}c&&f&&m.state.next(A)}return c?A:{}},xe=(s,a,l,g)=>{const f=y(t.errors,s),c=(_.isValid||S.isValid)&&H(a)&&t.isValid!==a;if(r.delayError&&l?(b=B(()=>v(s,l)),b(r.delayError)):(clearTimeout(p),b=null,l?C(t.errors,s,l):M(t.errors,s)),(l?!ne(f,l):f)||!q(g)||c){const h={...g,...c&&H(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...h},m.state.next(h)}},se=async s=>{V(s,!0);const a=await r.resolver(n,r.context,Sr(s||d.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return V(s),a},we=async s=>{const{errors:a}=await se(s);if(s)for(const l of s){const g=y(a,l);g?C(t.errors,l,g):M(t.errors,l)}else t.errors=a;return a},K=async(s,a,l={valid:!0})=>{for(const g in s){const f=s[g];if(f){const{_f:c,...h}=f;if(c){const A=d.array.has(c.name),E=f._f&&Dr(f._f);E&&_.validatingFields&&V([g],!0);const z=await vt(f,d.disabled,n,O,r.shouldUseNativeValidation&&!a,A);if(E&&_.validatingFields&&V([g]),z[c.name]&&(l.valid=!1,a))break;!a&&(y(z,c.name)?A?Lr(t.errors,z,c.name):C(t.errors,c.name,z[c.name]):M(t.errors,c.name))}!q(h)&&await K(h,a,l)}}return l.valid},ue=()=>{for(const s of d.unMount){const a=y(i,s);a&&(a._f.refs?a._f.refs.every(l=>!Be(l)):!Be(a._f.ref))&&Ie(s)}d.unMount=new Set},J=(s,a)=>!r.disabled&&(s&&a&&C(n,s,a),!ne(Ve(),o)),x=(s,a,l)=>wt(s,d,{...u.mount?n:L(a)?o:X(s)?{[s]:a}:a},l,a),D=s=>Ue(y(u.mount?n:o,s,r.shouldUnregister?y(o,s,[]):[])),I=(s,a,l={})=>{const g=y(i,s);let f=a;if(g){const c=g._f;c&&(!c.disabled&&C(n,s,Bt(a,c)),f=Se(c.ref)&&$(a)?"":a,Lt(c.ref)?[...c.ref.options].forEach(h=>h.selected=f.includes(h.value)):c.refs?_e(c.ref)?c.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(f)?h.checked=!!f.find(A=>A===h.value):h.checked=f===h.value||!!f)}):c.refs.forEach(h=>h.checked=h.value===f):We(c.ref)?c.ref.value="":(c.ref.value=f,c.ref.type||m.state.next({name:s,values:T(n)})))}(l.shouldDirty||l.shouldTouch)&&R(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ce(s)},N=(s,a,l)=>{for(const g in a){if(!a.hasOwnProperty(g))return;const f=a[g],c=s+"."+g,h=y(i,c);(d.array.has(s)||P(f)||h&&!h._f)&&!de(f)?N(c,f,l):I(c,f,l)}},W=(s,a,l={})=>{const g=y(i,s),f=d.array.has(s),c=T(a);C(n,s,c),f?(m.array.next({name:s,values:T(n)}),(_.isDirty||_.dirtyFields||S.isDirty||S.dirtyFields)&&l.shouldDirty&&m.state.next({name:s,dirtyFields:ge(o,n),isDirty:J(s,c)})):g&&!g._f&&!$(c)?N(s,c,l):I(s,c,l),yt(s,d)&&m.state.next({...t}),m.state.next({name:u.mount?s:void 0,values:T(n)})},Q=async s=>{u.mount=!0;const a=s.target;let l=a.name,g=!0;const f=y(i,l),c=E=>{g=Number.isNaN(E)||de(E)&&isNaN(E.getTime())||ne(E,y(n,l,E))},h=ct(r.mode),A=ct(r.reValidateMode);if(f){let E,z;const Fe=a.type?dt(f._f):Dt(s),ie=s.type===ke.BLUR||s.type===ke.FOCUS_OUT,Ht=!pr(f._f)&&!r.resolver&&!y(t.errors,l)&&!f._f.deps||wr(ie,y(t.touchedFields,l),t.isSubmitted,A,h),Re=yt(l,d,ie);C(n,l,Fe),ie?(f._f.onBlur&&f._f.onBlur(s),b&&b(0)):f._f.onChange&&f._f.onChange(s);const Me=R(l,Fe,ie),zt=!q(Me)||Re;if(!ie&&m.state.next({name:l,type:s.type,values:T(n)}),Ht)return(_.isValid||S.isValid)&&(r.mode==="onBlur"?ie&&F():ie||F()),zt&&m.state.next({name:l,...Re?{}:Me});if(!ie&&Re&&m.state.next({...t}),r.resolver){const{errors:Xe}=await se([l]);if(c(Fe),g){const Gt=gt(t.errors,i,l),et=gt(Xe,i,Gt.name||l);E=et.error,l=et.name,z=q(Xe)}}else V([l],!0),E=(await vt(f,d.disabled,n,O,r.shouldUseNativeValidation))[l],V([l]),c(Fe),g&&(E?z=!1:(_.isValid||S.isValid)&&(z=await K(i,!0)));g&&(f._f.deps&&ce(f._f.deps),xe(l,z,E,Me))}},ye=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},ce=async(s,a={})=>{let l,g;const f=ve(s);if(r.resolver){const c=await we(L(s)?s:f);l=q(c),g=s?!f.some(h=>y(c,h)):l}else s?(g=(await Promise.all(f.map(async c=>{const h=y(i,c);return await K(h&&h._f?{[c]:h}:h)}))).every(Boolean),!(!g&&!t.isValid)&&F()):g=l=await K(i);return m.state.next({...!X(s)||(_.isValid||S.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!g&&me(i,ye,s?f:d.mount),g},Ve=s=>{const a={...u.mount?n:o};return L(s)?a:X(s)?y(a,s):s.map(l=>y(a,l))},He=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),error:y((a||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((a||t).touchedFields,s)}),Ot=s=>{s&&ve(s).forEach(a=>M(t.errors,a)),m.state.next({errors:s?t.errors:{}})},ze=(s,a,l)=>{const g=(y(i,s,{_f:{}})._f||{}).ref,f=y(t.errors,s)||{},{ref:c,message:h,type:A,...E}=f;C(t.errors,s,{...E,...a,ref:g}),m.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},Ut=(s,a)=>Y(s)?m.state.subscribe({next:l=>s(x(void 0,a),l)}):x(s,a,!0),Ge=s=>m.state.subscribe({next:a=>{Er(s.name,a.name,s.exact)&&Cr(a,s.formState||_,qt,s.reRenderRoot)&&s.callback({values:{...n},...t,...a})}}).unsubscribe,Nt=s=>(u.mount=!0,S={...S,...s.formState},Ge({...s,formState:S})),Ie=(s,a={})=>{for(const l of s?ve(s):d.mount)d.mount.delete(l),d.array.delete(l),a.keepValue||(M(i,l),M(n,l)),!a.keepError&&M(t.errors,l),!a.keepDirty&&M(t.dirtyFields,l),!a.keepTouched&&M(t.touchedFields,l),!a.keepIsValidating&&M(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&M(o,l);m.state.next({values:T(n)}),m.state.next({...t,...a.keepDirty?{isDirty:J()}:{}}),!a.keepIsValid&&F()},Ke=({disabled:s,name:a})=>{(H(s)&&u.mount||s||d.disabled.has(a))&&(s?d.disabled.add(a):d.disabled.delete(a))},Le=(s,a={})=>{let l=y(i,s);const g=H(a.disabled)||H(r.disabled);return C(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),d.mount.add(s),l?Ke({disabled:H(a.disabled)?a.disabled:r.disabled,name:s}):j(s,!0,a.value),{...g?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:he(a.min),max:he(a.max),minLength:he(a.minLength),maxLength:he(a.maxLength),pattern:he(a.pattern)}:{},name:s,onChange:Q,onBlur:Q,ref:f=>{if(f){Le(s,a),l=y(i,s);const c=L(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=Fr(c),A=l._f.refs||[];if(h?A.find(E=>E===c):c===l._f.ref)return;C(i,s,{_f:{...l._f,...h?{refs:[...A.filter(Be),c,...Array.isArray(y(o,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),j(s,!1,void 0,c)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(pt(d.array,s)&&u.action)&&d.unMount.add(s)}}},Pe=()=>r.shouldFocusError&&me(i,ye,d.mount),$t=s=>{H(s)&&(m.state.next({disabled:s}),me(i,(a,l)=>{const g=y(i,l);g&&(a.disabled=g._f.disabled||s,Array.isArray(g._f.refs)&&g._f.refs.forEach(f=>{f.disabled=g._f.disabled||s}))},0,!1))},Ze=(s,a)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=T(n);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:c,values:h}=await se();t.errors=c,f=h}else await K(i);if(d.disabled.size)for(const c of d.disabled)C(f,c,void 0);if(M(t.errors,"root"),q(t.errors)){m.state.next({errors:{}});try{await s(f,l)}catch(c){g=c}}else a&&await a({...t.errors},l),Pe(),setTimeout(Pe);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},jt=(s,a={})=>{y(i,s)&&(L(a.defaultValue)?W(s,T(y(o,s))):(W(s,a.defaultValue),C(o,s,T(a.defaultValue))),a.keepTouched||M(t.touchedFields,s),a.keepDirty||(M(t.dirtyFields,s),t.isDirty=a.defaultValue?J(s,T(y(o,s))):J()),a.keepError||(M(t.errors,s),_.isValid&&F()),m.state.next({...t}))},Ye=(s,a={})=>{const l=s?T(s):o,g=T(l),f=q(s),c=f?o:g;if(a.keepDefaultValues||(o=l),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...d.mount,...Object.keys(ge(o,n))]);for(const A of Array.from(h))y(t.dirtyFields,A)?C(c,A,y(n,A)):W(A,y(c,A))}else{if(Oe&&L(s))for(const h of d.mount){const A=y(i,h);if(A&&A._f){const E=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;if(Se(E)){const z=E.closest("form");if(z){z.reset();break}}}}for(const h of d.mount)W(h,y(c,h))}n=T(c),m.array.next({values:{...c}}),m.state.next({values:{...c}})}d={mount:a.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!_.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!r.shouldUnregister,m.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ne(s,o)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&n?ge(o,n):t.dirtyFields:a.keepDefaultValues&&s?ge(o,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Je=(s,a)=>Ye(Y(s)?s(n):s,a),Wt=(s,a={})=>{const l=y(i,s),g=l&&l._f;if(g){const f=g.refs?g.refs[0]:g.ref;f.focus&&(f.focus(),a.shouldSelect&&Y(f.select)&&f.select())}},qt=s=>{t={...t,...s}},Qe={control:{register:Le,unregister:Ie,getFieldState:He,handleSubmit:Ze,setError:ze,_subscribe:Ge,_runSchema:se,_focusError:Pe,_getWatch:x,_getDirty:J,_setValid:F,_setFieldArray:U,_setDisabledField:Ke,_setErrors:G,_getFieldArray:D,_reset:Ye,_resetDefaultValues:()=>Y(r.defaultValues)&&r.defaultValues().then(s=>{Je(s,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:ue,_disableForm:$t,_subjects:m,_proxyFormState:_,get _fields(){return i},get _formValues(){return n},get _state(){return u},set _state(s){u=s},get _defaultValues(){return o},get _names(){return d},set _names(s){d=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Nt,trigger:ce,register:Le,handleSubmit:Ze,watch:Ut,setValue:W,getValues:Ve,reset:Je,resetField:jt,clearErrors:Ot,unregister:Ie,setError:ze,setFocus:Wt,getFieldState:He};return{...Qe,formControl:Qe}}function Mr(e={}){const r=k.useRef(void 0),t=k.useRef(void 0),[i,o]=k.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!Y(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...d}=Rr(e);r.current={...d,formState:i}}const n=r.current.control;return n._options=e,je(()=>{const u=n._subscribe({formState:n._proxyFormState,callback:()=>o({...n._formState}),reRenderRoot:!0});return o(d=>({...d,isReady:!0})),n._formState.isReady=!0,u},[n]),k.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),k.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),k.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),k.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),k.useEffect(()=>{if(n._proxyFormState.isDirty){const u=n._getDirty();u!==i.isDirty&&n._subjects.state.next({isDirty:u})}},[n,i.isDirty]),k.useEffect(()=>{e.values&&!ne(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,o(u=>({...u}))):n._resetDefaultValues()},[n,e.values]),k.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=Et(i,n),r.current}function Br(e){return mt("MuiLoadingButton",e)}const re=bt("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),Tr=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],Or=e=>{const{loading:r,loadingPosition:t,classes:i}=e,o={root:["root",r&&"loading"],startIcon:[r&&`startIconLoading${oe(t)}`],endIcon:[r&&`endIconLoading${oe(t)}`],loadingIndicator:["loadingIndicator",r&&`loadingIndicator${oe(t)}`]},n=At(o,Br,i);return ee({},i,n)},Ur=e=>e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"&&e!=="classes",Nr=be(Zt,{shouldForwardProp:e=>Ur(e)||e==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(e,r)=>[r.root,r.startIconLoadingStart&&{[`& .${re.startIconLoadingStart}`]:r.startIconLoadingStart},r.endIconLoadingEnd&&{[`& .${re.endIconLoadingEnd}`]:r.endIconLoadingEnd}]})(({ownerState:e,theme:r})=>ee({[`& .${re.startIconLoadingStart}, & .${re.endIconLoadingEnd}`]:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0}},e.loadingPosition==="center"&&{transition:r.transitions.create(["background-color","box-shadow","border-color"],{duration:r.transitions.duration.short}),[`&.${re.loading}`]:{color:"transparent"}},e.loadingPosition==="start"&&e.fullWidth&&{[`& .${re.startIconLoadingStart}, & .${re.endIconLoadingEnd}`]:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0,marginRight:-8}},e.loadingPosition==="end"&&e.fullWidth&&{[`& .${re.startIconLoadingStart}, & .${re.endIconLoadingEnd}`]:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0,marginLeft:-8}})),$r=be("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.loadingIndicator,r[`loadingIndicator${oe(t.loadingPosition)}`]]}})(({theme:e,ownerState:r})=>ee({position:"absolute",visibility:"visible",display:"flex"},r.loadingPosition==="start"&&(r.variant==="outlined"||r.variant==="contained")&&{left:r.size==="small"?10:14},r.loadingPosition==="start"&&r.variant==="text"&&{left:6},r.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled},r.loadingPosition==="end"&&(r.variant==="outlined"||r.variant==="contained")&&{right:r.size==="small"?10:14},r.loadingPosition==="end"&&r.variant==="text"&&{right:6},r.loadingPosition==="start"&&r.fullWidth&&{position:"relative",left:-10},r.loadingPosition==="end"&&r.fullWidth&&{position:"relative",right:-10})),jr=le.forwardRef(function(r,t){const i=le.useContext(Yt),o=Jt(i,r),n=Vt({props:o,name:"MuiLoadingButton"}),{children:u,disabled:d=!1,id:b,loading:p=!1,loadingIndicator:_,loadingPosition:S="center",variant:m="text"}=n,O=Ft(n,Tr),B=nr(b),F=_??w.jsx(hr,{"aria-labelledby":B,color:"inherit",size:16}),V=ee({},n,{disabled:d,loading:p,loadingIndicator:F,loadingPosition:S,variant:m}),U=Or(V),v=p?w.jsx($r,{className:U.loadingIndicator,ownerState:V,children:F}):null;return w.jsxs(Nr,ee({disabled:d||p,id:B,ref:t},O,{variant:m,classes:U,ownerState:V,children:[V.loadingPosition==="end"?u:v,V.loadingPosition==="end"?v:u]}))});function Wr({name:e,control:r,label:t}){return w.jsx(It,{name:e,control:r,rules:{required:"Требуется адрес электронной почты",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Неверный адрес электронной почты"}},render:({field:{onChange:i,value:o},fieldState:{error:n},formState:u})=>w.jsx(kt,{required:!0,type:"email",helperText:n==null?void 0:n.message,error:!!n,onChange:i,value:o,fullWidth:!0,name:e,label:t,sx:{mb:3}})})}function qr({name:e,control:r,label:t}){const[i,o]=le.useState(!1);return w.jsx(It,{name:e,control:r,rules:{required:"Требуется ввести пароль",minLength:{value:8,message:"Минимальная длина пароля 8 символов"}},render:({field:{onChange:n,value:u},fieldState:{error:d},formState:b})=>w.jsx(kt,{required:!0,helperText:d==null?void 0:d.message,error:!!d,onChange:n,value:u,fullWidth:!0,name:e,label:t,type:i?"text":"password",InputProps:{endAdornment:w.jsx(ar,{position:"end",children:w.jsx(Qt,{onClick:()=>o(!i),edge:"end",children:w.jsx(ir,{icon:i?"solar:eye-bold":"solar:eye-closed-bold"})})})},sx:{mb:3}})})}const Hr={email:"",password:""};function zr(){const[e,r]=Xt(["isSignin"]),{control:t,handleSubmit:i,setError:o}=Mr({defaultValues:Hr}),n=er();le.useEffect(()=>{e.isSignin&&n.push("/")},[e.isSignin,n]);const u=le.useCallback(b=>{b.email==="nfor@trombones.ru"&&b.password==="nfor_trombones"?r("isSignin",!0,{maxAge:3600*24*366}):(o("email",{type:"validation",message:"Неверный логин или пароль"}),o("password",{type:"validation",message:"Неверный логин или пароль"}))},[r,o]),d=w.jsxs(tt,{display:"flex",flexDirection:"column",alignItems:"flex-end",children:[w.jsx(Wr,{name:"email",label:"Email",control:t}),w.jsx(qr,{name:"password",label:"Пароль",control:t}),w.jsx(jr,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"contained",onClick:i(u),children:"Войти"})]});return w.jsxs(w.Fragment,{children:[w.jsx(tt,{gap:1.5,display:"flex",flexDirection:"column",alignItems:"center",sx:{mb:5},children:w.jsx(tr,{variant:"h5",children:"Войти"})}),d]})}function ts(){return w.jsxs(w.Fragment,{children:[w.jsx(rr,{children:w.jsxs("title",{children:[" ",`Войти - ${sr.appName}`]})}),w.jsx(zr,{})]})}export{ts as default};
