import{u as m,j as t,S as u,B as a,L as j,a as f,r as d,I as g,d as y,v as C,b as l,c as v,t as b,D as L,H as k}from"./index-Bq84cAmQ.js";import{T as w,C as I}from"./Typography-B3QBnIde.js";import{L as S,C as B,c as T}from"./Collapse-B8pPjfNy.js";import{L as A}from"./label-BTtYtJgj.js";import{I as p}from"./flag-icon-oc-3gq0v.js";import{C as P}from"./Card-BvB1qoKU.js";import{C as W}from"./CardHeader-DDZdZEE6.js";import{A as D}from"./Avatar-DJfsjNnK.js";import{G as x}from"./Grid2-Dt8I5CT_.js";import"./users-CX3G6kN4.js";import"./listItemTextClasses-CkPKvcF8.js";function E({title:n,subheader:e,list:o,...r}){const c=m(),i=()=>{c("/concert")};return t.jsxs(P,{...r,children:[r.datalength?t.jsx(W,{title:n,subheader:e,sx:{mb:1}}):"",r.datalength?t.jsx(u,{children:t.jsx(a,{sx:{minWidth:744},children:o.map(s=>t.jsx(H,{item:s},s.id))})}):t.jsx(j,{sx:{margin:"50px auto 0",width:"90%"}}),t.jsx(a,{sx:{p:2,textAlign:"right"},children:t.jsx(f,{size:"small",color:"inherit",endIcon:t.jsx(p,{icon:"eva:arrow-ios-forward-fill",width:18,sx:{ml:-.5}}),onClick:i,children:"Все концерты"})})]})}function H({sx:n,item:e,...o}){const[r,c]=d.useState(!1),i=()=>{c(!r)};return t.jsxs(a,{children:[t.jsxs(a,{sx:{py:2,px:3,gap:2,display:"flex",alignItems:"center",borderBottom:s=>`dashed 1px ${s.vars.palette.divider}`,...n},...o,onClick:i,children:[t.jsx(D,{variant:"rounded",alt:e.title,src:e.coverUrl,sx:{width:48,height:48,flexShrink:0}}),t.jsx(a,{sx:{minWidth:38,flexShrink:0,color:"text.disabled",typography:"caption"},children:t.jsx(g,{"aria-label":"Сообщение",children:e.comments!=="null"&&t.jsx(p,{width:22,icon:"ic:baseline-announcement",sx:{color:"info.main"}})})}),t.jsx(S,{primary:e.title,secondary:e.description,primaryTypographyProps:{noWrap:!0,typography:"subtitle2"},secondaryTypographyProps:{mt:.5,noWrap:!0,component:"span"},sx:{flex:"1 0 auto"}}),t.jsx(a,{sx:{flexShrink:0,color:"text.disabled",typography:"caption"},children:t.jsx(A,{color:e.approved&&"success"||"error",children:e.approved?"Утверждено":"Прогноз"})}),t.jsx(a,{sx:{flexShrink:0,color:"text.disabled",typography:"caption"},children:y(e.concertDate)})]}),e.comments!=="null"&&t.jsx(B,{in:r,timeout:"auto",unmountOnExit:!0,children:t.jsx(a,{sx:{py:2,px:3,fontStyle:"italic",backgroundColor:s=>`${C(s.vars.palette.info.lighterChannel,.48)}`,borderBottom:s=>`dashed 1px ${s.vars.palette.divider}`,...n},...o,children:e.comments.split("///").map((s,h)=>t.jsx(w,{variant:"body1",children:s},h))})})]})}l.extend(v);l.extend(b);function N({formattedData:n}){const[e,o]=d.useState([]);return d.useEffect(()=>{function r(){if(n.length){const i=T(n).filter(s=>l().startOf("day")<=l(s.concertDate[s.concertDate.length-1]));o(i)}}r()},[n]),t.jsx(L,{maxWidth:"xl",children:t.jsx(x,{container:!0,spacing:3,children:t.jsx(x,{xs:12,children:t.jsx(E,{title:e.slice(0,10).length?"Ближайшие концерты":"В этом сезоне больше нет концертов",list:e.slice(0,10),datalength:n.length})})})})}function M({data:n}){return t.jsxs(t.Fragment,{children:[t.jsxs(k,{children:[t.jsxs("title",{children:[" ",`Главная - ${I.appName}`]}),t.jsx("meta",{name:"description",content:"Расписание группы тромбонов оркестра НФОР"}),t.jsx("meta",{name:"keywords",content:"НФОР, тромбоны"})]}),t.jsx(N,{formattedData:n})]})}export{M as default};
