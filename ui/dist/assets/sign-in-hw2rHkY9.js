import{g as vt,f as mt,aA as bt,h as be,i as oe,_ as ee,aB as _t,r as le,k as xt,l as Vt,j as w,m as Gt,n as Ft,ag as k,a as Kt,aC as Zt,aD as Yt,I as Jt,aE as Qt,aF as Xt,B as er,H as tr}from"./index-BT5nTbTg.js";import{C as rr}from"./config-global-BPYwBEoI.js";import{T as At}from"./TextField-CmvXb9s5.js";import{I as sr}from"./flag-icon-DC9chq8c.js";import{I as ir}from"./InputAdornment-BYoMnUnB.js";import{u as ar}from"./useFormControl-uNMXCIwk.js";import"./Select-B7MpNy_B.js";function nr(e){return vt("MuiCircularProgress",e)}mt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const or=["className","color","disableShrink","size","style","thickness","value","variant"];let Ee=e=>e,tt,rt,st,it;const ae=44,lr=bt(tt||(tt=Ee`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),ur=bt(rt||(rt=Ee`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),dr=e=>{const{classes:r,variant:t,color:i,disableShrink:o}=e,n={root:["root",t,`color${oe(i)}`],svg:["svg"],circle:["circle",`circle${oe(t)}`,o&&"circleDisableShrink"]};return Ft(n,nr,r)},cr=be("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],r[`color${oe(t.color)}`]]}})(({ownerState:e,theme:r})=>ee({display:"inline-block"},e.variant==="determinate"&&{transition:r.transitions.create("transform")},e.color!=="inherit"&&{color:(r.vars||r).palette[e.color].main}),({ownerState:e})=>e.variant==="indeterminate"&&_t(st||(st=Ee`
      animation: ${0} 1.4s linear infinite;
    `),lr)),fr=be("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),yr=be("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.circle,r[`circle${oe(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})(({ownerState:e,theme:r})=>ee({stroke:"currentColor"},e.variant==="determinate"&&{transition:r.transitions.create("stroke-dashoffset")},e.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink&&_t(it||(it=Ee`
      animation: ${0} 1.4s ease-in-out infinite;
    `),ur)),gr=le.forwardRef(function(r,t){const i=xt({props:r,name:"MuiCircularProgress"}),{className:o,color:n="primary",disableShrink:u=!1,size:d=40,style:b,thickness:D=3.6,value:_=0,variant:S="indeterminate"}=i,m=Vt(i,or),O=ee({},i,{color:n,disableShrink:u,size:d,thickness:D,value:_,variant:S}),B=dr(O),F={},V={},U={};if(S==="determinate"){const v=2*Math.PI*((ae-D)/2);F.strokeDasharray=v.toFixed(3),U["aria-valuenow"]=Math.round(_),F.strokeDashoffset=`${((100-_)/100*v).toFixed(3)}px`,V.transform="rotate(-90deg)"}return w.jsx(cr,ee({className:Gt(B.root,o),style:ee({width:d,height:d},V,b),ownerState:O,ref:t,role:"progressbar"},U,m,{children:w.jsx(fr,{className:B.svg,ownerState:O,viewBox:`${ae/2} ${ae/2} ${ae} ${ae}`,children:w.jsx(yr,{className:B.circle,style:F,ownerState:O,cx:ae,cy:ae,r:(ae-D)/2,fill:"none",strokeWidth:D})})}))});var _e=e=>e.type==="checkbox",de=e=>e instanceof Date,$=e=>e==null;const kt=e=>typeof e=="object";var P=e=>!$(e)&&!Array.isArray(e)&&kt(e)&&!de(e),St=e=>P(e)&&e.target?_e(e.target)?e.target.checked:e.target.value:e,hr=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Ct=(e,r)=>e.has(hr(r)),vr=e=>{const r=e.constructor&&e.constructor.prototype;return P(r)&&r.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function T(e){let r;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)r=new Date(e);else if(e instanceof Set)r=new Set(e);else if(!(Oe&&(e instanceof Blob||i))&&(t||P(e)))if(r=t?[]:{},!t&&!vr(e))r=e;else for(const o in e)e.hasOwnProperty(o)&&(r[o]=T(e[o]));else return e;return r}var pe=e=>/^\w*$/.test(e),L=e=>e===void 0,Ue=e=>Array.isArray(e)?e.filter(Boolean):[],Ne=e=>Ue(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,r,t)=>{if(!r||!P(e))return t;const i=(pe(r)?[r]:Ne(r)).reduce((o,n)=>$(o)?o:o[n],e);return L(i)||i===e?L(e[r])?t:e[r]:i},H=e=>typeof e=="boolean",E=(e,r,t)=>{let i=-1;const o=pe(r)?[r]:Ne(r),n=o.length,u=n-1;for(;++i<n;){const d=o[i];let b=t;if(i!==u){const D=e[d];b=P(D)||Array.isArray(D)?D:isNaN(+o[i+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=b,e=e[d]}};const ke={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},te={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Dt=k.createContext(null);Dt.displayName="HookFormContext";const $e=()=>k.useContext(Dt);var Et=(e,r,t,i=!0)=>{const o={defaultValues:r._defaultValues};for(const n in e)Object.defineProperty(o,n,{get:()=>{const u=n;return r._proxyFormState[u]!==Z.all&&(r._proxyFormState[u]=!i||Z.all),t&&(t[u]=!0),e[u]}});return o};const je=typeof window<"u"?le.useLayoutEffect:le.useEffect;function mr(e){const r=$e(),{control:t=r.control,disabled:i,name:o,exact:n}=e||{},[u,d]=k.useState(t._formState),b=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return je(()=>t._subscribe({name:o,formState:b.current,exact:n,callback:D=>{!i&&d({...t._formState,...D})}}),[o,i,n]),k.useEffect(()=>{b.current.isValid&&t._setValid(!0)},[t]),k.useMemo(()=>Et(u,t,b.current,!1),[u,t])}var X=e=>typeof e=="string",pt=(e,r,t,i,o)=>X(e)?(i&&r.watch.add(e),y(t,e,o)):Array.isArray(e)?e.map(n=>(i&&r.watch.add(n),y(t,n))):(i&&(r.watchAll=!0),t);function br(e){const r=$e(),{control:t=r.control,name:i,defaultValue:o,disabled:n,exact:u}=e||{},d=k.useRef(o),[b,D]=k.useState(t._getWatch(i,d.current));return je(()=>t._subscribe({name:i,formState:{values:!0},exact:u,callback:_=>!n&&D(pt(i,t._names,_.values||t._formValues,!1,d.current))}),[i,t,n,u]),k.useEffect(()=>t._removeUnmounted()),b}function _r(e){const r=$e(),{name:t,disabled:i,control:o=r.control,shouldUnregister:n}=e,u=Ct(o._names.array,t),d=br({control:o,name:t,defaultValue:y(o._formValues,t,y(o._defaultValues,t,e.defaultValue)),exact:!0}),b=mr({control:o,name:t,exact:!0}),D=k.useRef(e),_=k.useRef(o.register(t,{...e.rules,value:d,...H(e.disabled)?{disabled:e.disabled}:{}})),S=k.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(b.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(b.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(b.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(b.validatingFields,t)},error:{enumerable:!0,get:()=>y(b.errors,t)}}),[b,t]),m=k.useCallback(V=>_.current.onChange({target:{value:St(V),name:t},type:ke.CHANGE}),[t]),O=k.useCallback(()=>_.current.onBlur({target:{value:y(o._formValues,t),name:t},type:ke.BLUR}),[t,o._formValues]),B=k.useCallback(V=>{const U=y(o._fields,t);U&&V&&(U._f.ref={focus:()=>V.focus&&V.focus(),select:()=>V.select&&V.select(),setCustomValidity:v=>V.setCustomValidity(v),reportValidity:()=>V.reportValidity()})},[o._fields,t]),F=k.useMemo(()=>({name:t,value:d,...H(i)||b.disabled?{disabled:b.disabled||i}:{},onChange:m,onBlur:O,ref:B}),[t,i,b.disabled,m,O,B,d]);return k.useEffect(()=>{const V=o._options.shouldUnregister||n;o.register(t,{...D.current.rules,...H(D.current.disabled)?{disabled:D.current.disabled}:{}});const U=(v,G)=>{const j=y(o._fields,v);j&&j._f&&(j._f.mount=G)};if(U(t,!0),V){const v=T(y(o._options.defaultValues,t));E(o._defaultValues,t,v),L(y(o._formValues,t))&&E(o._formValues,t,v)}return!u&&o.register(t),()=>{(u?V&&!o._state.action:V)?o.unregister(t):U(t,!1)}},[t,o,u,n]),k.useEffect(()=>{o._setDisabledField({disabled:i,name:t})},[i,t,o]),k.useMemo(()=>({field:F,formState:b,fieldState:S}),[F,b,S])}const wt=e=>e.render(_r(e));var xr=(e,r,t,i,o)=>r?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:o||!0}}:{},ve=e=>Array.isArray(e)?e:[e],at=()=>{let e=[];return{get observers(){return e},next:o=>{for(const n of e)n.next&&n.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(n=>n!==o)}}),unsubscribe:()=>{e=[]}}},Te=e=>$(e)||!kt(e);function ne(e,r){if(Te(e)||Te(r))return e===r;if(de(e)&&de(r))return e.getTime()===r.getTime();const t=Object.keys(e),i=Object.keys(r);if(t.length!==i.length)return!1;for(const o of t){const n=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const u=r[o];if(de(n)&&de(u)||P(n)&&P(u)||Array.isArray(n)&&Array.isArray(u)?!ne(n,u):n!==u)return!1}}return!0}var q=e=>P(e)&&!Object.keys(e).length,We=e=>e.type==="file",Y=e=>typeof e=="function",Se=e=>{if(!Oe)return!1;const r=e?e.ownerDocument:0;return e instanceof(r&&r.defaultView?r.defaultView.HTMLElement:HTMLElement)},It=e=>e.type==="select-multiple",qe=e=>e.type==="radio",Vr=e=>qe(e)||_e(e),Be=e=>Se(e)&&e.isConnected;function Fr(e,r){const t=r.slice(0,-1).length;let i=0;for(;i<t;)e=L(e)?i++:e[r[i++]];return e}function Ar(e){for(const r in e)if(e.hasOwnProperty(r)&&!L(e[r]))return!1;return!0}function M(e,r){const t=Array.isArray(r)?r:pe(r)?[r]:Ne(r),i=t.length===1?e:Fr(e,t),o=t.length-1,n=t[o];return i&&delete i[n],o!==0&&(P(i)&&q(i)||Array.isArray(i)&&Ar(i))&&M(e,t.slice(0,-1)),e}var Lt=e=>{for(const r in e)if(Y(e[r]))return!0;return!1};function Ce(e,r={}){const t=Array.isArray(e);if(P(e)||t)for(const i in e)Array.isArray(e[i])||P(e[i])&&!Lt(e[i])?(r[i]=Array.isArray(e[i])?[]:{},Ce(e[i],r[i])):$(e[i])||(r[i]=!0);return r}function Pt(e,r,t){const i=Array.isArray(e);if(P(e)||i)for(const o in e)Array.isArray(e[o])||P(e[o])&&!Lt(e[o])?L(r)||Te(t[o])?t[o]=Array.isArray(e[o])?Ce(e[o],[]):{...Ce(e[o])}:Pt(e[o],$(r)?{}:r[o],t[o]):t[o]=!ne(e[o],r[o]);return t}var ge=(e,r)=>Pt(e,r,Ce(r));const nt={value:!1,isValid:!1},ot={value:!0,isValid:!0};var Rt=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!L(e[0].attributes.value)?L(e[0].value)||e[0].value===""?ot:{value:e[0].value,isValid:!0}:ot:nt}return nt},Mt=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:i})=>L(e)?e:r?e===""?NaN:e&&+e:t&&X(e)?new Date(e):i?i(e):e;const lt={isValid:!1,value:null};var Bt=e=>Array.isArray(e)?e.reduce((r,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:r,lt):lt;function ut(e){const r=e.ref;return We(r)?r.files:qe(r)?Bt(e.refs).value:It(r)?[...r.selectedOptions].map(({value:t})=>t):_e(r)?Rt(e.refs).value:Mt(L(r.value)?e.ref.value:r.value,e)}var kr=(e,r,t,i)=>{const o={};for(const n of e){const u=y(r,n);u&&E(o,n,u._f)}return{criteriaMode:t,names:[...e],fields:o,shouldUseNativeValidation:i}},De=e=>e instanceof RegExp,he=e=>L(e)?e:De(e)?e.source:P(e)?De(e.value)?e.value.source:e.value:e,dt=e=>({isOnSubmit:!e||e===Z.onSubmit,isOnBlur:e===Z.onBlur,isOnChange:e===Z.onChange,isOnAll:e===Z.all,isOnTouch:e===Z.onTouched});const ct="AsyncFunction";var Sr=e=>!!e&&!!e.validate&&!!(Y(e.validate)&&e.validate.constructor.name===ct||P(e.validate)&&Object.values(e.validate).find(r=>r.constructor.name===ct)),Cr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ft=(e,r,t)=>!t&&(r.watchAll||r.watch.has(e)||[...r.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const me=(e,r,t,i)=>{for(const o of t||Object.keys(e)){const n=y(e,o);if(n){const{_f:u,...d}=n;if(u){if(u.refs&&u.refs[0]&&r(u.refs[0],o)&&!i)return!0;if(u.ref&&r(u.ref,u.name)&&!i)return!0;if(me(d,r))break}else if(P(d)&&me(d,r))break}}};function yt(e,r,t){const i=y(e,t);if(i||pe(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const n=o.join("."),u=y(r,n),d=y(e,n);if(u&&!Array.isArray(u)&&t!==n)return{name:t};if(d&&d.type)return{name:n,error:d};if(d&&d.root&&d.root.type)return{name:`${n}.root`,error:d.root};o.pop()}return{name:t}}var Dr=(e,r,t,i)=>{t(e);const{name:o,...n}=e;return q(n)||Object.keys(n).length>=Object.keys(r).length||Object.keys(n).find(u=>r[u]===(!i||Z.all))},Er=(e,r,t)=>!e||!r||e===r||ve(e).some(i=>i&&(t?i===r:i.startsWith(r)||r.startsWith(i))),pr=(e,r,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(r||e):(t?i.isOnBlur:o.isOnBlur)?!e:(t?i.isOnChange:o.isOnChange)?e:!0,wr=(e,r)=>!Ue(y(e,r)).length&&M(e,r),Ir=(e,r,t)=>{const i=ve(y(e,t));return E(i,"root",r[t]),E(e,t,i),e},Ae=e=>X(e);function gt(e,r,t="validate"){if(Ae(e)||Array.isArray(e)&&e.every(Ae)||H(e)&&!e)return{type:t,message:Ae(e)?e:"",ref:r}}var fe=e=>P(e)&&!De(e)?e:{value:e,message:""},ht=async(e,r,t,i,o,n)=>{const{ref:u,refs:d,required:b,maxLength:D,minLength:_,min:S,max:m,pattern:O,validate:B,name:F,valueAsNumber:V,mount:U}=e._f,v=y(t,F);if(!U||r.has(F))return{};const G=d?d[0]:u,j=x=>{o&&G.reportValidity&&(G.setCustomValidity(H(x)?"":x||""),G.reportValidity())},R={},xe=qe(u),se=_e(u),we=xe||se,K=(V||We(u))&&L(u.value)&&L(v)||Se(u)&&u.value===""||v===""||Array.isArray(v)&&!v.length,ue=xr.bind(null,F,i,R),J=(x,C,I,N=te.maxLength,W=te.minLength)=>{const Q=x?C:I;R[F]={type:x?N:W,message:Q,ref:u,...ue(x?N:W,Q)}};if(n?!Array.isArray(v)||!v.length:b&&(!we&&(K||$(v))||H(v)&&!v||se&&!Rt(d).isValid||xe&&!Bt(d).isValid)){const{value:x,message:C}=Ae(b)?{value:!!b,message:b}:fe(b);if(x&&(R[F]={type:te.required,message:C,ref:G,...ue(te.required,C)},!i))return j(C),R}if(!K&&(!$(S)||!$(m))){let x,C;const I=fe(m),N=fe(S);if(!$(v)&&!isNaN(v)){const W=u.valueAsNumber||v&&+v;$(I.value)||(x=W>I.value),$(N.value)||(C=W<N.value)}else{const W=u.valueAsDate||new Date(v),Q=Ve=>new Date(new Date().toDateString()+" "+Ve),ye=u.type=="time",ce=u.type=="week";X(I.value)&&v&&(x=ye?Q(v)>Q(I.value):ce?v>I.value:W>new Date(I.value)),X(N.value)&&v&&(C=ye?Q(v)<Q(N.value):ce?v<N.value:W<new Date(N.value))}if((x||C)&&(J(!!x,I.message,N.message,te.max,te.min),!i))return j(R[F].message),R}if((D||_)&&!K&&(X(v)||n&&Array.isArray(v))){const x=fe(D),C=fe(_),I=!$(x.value)&&v.length>+x.value,N=!$(C.value)&&v.length<+C.value;if((I||N)&&(J(I,x.message,C.message),!i))return j(R[F].message),R}if(O&&!K&&X(v)){const{value:x,message:C}=fe(O);if(De(x)&&!v.match(x)&&(R[F]={type:te.pattern,message:C,ref:u,...ue(te.pattern,C)},!i))return j(C),R}if(B){if(Y(B)){const x=await B(v,t),C=gt(x,G);if(C&&(R[F]={...C,...ue(te.validate,C.message)},!i))return j(C.message),R}else if(P(B)){let x={};for(const C in B){if(!q(x)&&!i)break;const I=gt(await B[C](v,t),G,C);I&&(x={...I,...ue(C,I.message)},j(I.message),i&&(R[F]=x))}if(!q(x)&&(R[F]={ref:G,...x},!i))return R}}return j(!0),R};const Lr={mode:Z.onSubmit,reValidateMode:Z.onChange,shouldFocusError:!0};function Pr(e={}){let r={...Lr,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Y(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1};const i={};let o=P(r.defaultValues)||P(r.values)?T(r.defaultValues||r.values)||{}:{},n=r.shouldUnregister?{}:T(o),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},b,D=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let S={..._};const m={array:at(),state:at()},O=r.criteriaMode===Z.all,B=s=>a=>{clearTimeout(D),D=setTimeout(s,a)},F=async s=>{if(!r.disabled&&(_.isValid||S.isValid||s)){const a=r.resolver?q((await se()).errors):await K(i,!0);a!==t.isValid&&m.state.next({isValid:a})}},V=(s,a)=>{!r.disabled&&(_.isValidating||_.validatingFields||S.isValidating||S.validatingFields)&&((s||Array.from(d.mount)).forEach(l=>{l&&(a?E(t.validatingFields,l,a):M(t.validatingFields,l))}),m.state.next({validatingFields:t.validatingFields,isValidating:!q(t.validatingFields)}))},U=(s,a=[],l,g,f=!0,c=!0)=>{if(g&&l&&!r.disabled){if(u.action=!0,c&&Array.isArray(y(i,s))){const h=l(y(i,s),g.argA,g.argB);f&&E(i,s,h)}if(c&&Array.isArray(y(t.errors,s))){const h=l(y(t.errors,s),g.argA,g.argB);f&&E(t.errors,s,h),wr(t.errors,s)}if((_.touchedFields||S.touchedFields)&&c&&Array.isArray(y(t.touchedFields,s))){const h=l(y(t.touchedFields,s),g.argA,g.argB);f&&E(t.touchedFields,s,h)}(_.dirtyFields||S.dirtyFields)&&(t.dirtyFields=ge(o,n)),m.state.next({name:s,isDirty:J(s,a),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else E(n,s,a)},v=(s,a)=>{E(t.errors,s,a),m.state.next({errors:t.errors})},G=s=>{t.errors=s,m.state.next({errors:t.errors,isValid:!1})},j=(s,a,l,g)=>{const f=y(i,s);if(f){const c=y(n,s,L(l)?y(o,s):l);L(c)||g&&g.defaultChecked||a?E(n,s,a?c:ut(f._f)):I(s,c),u.mount&&F()}},R=(s,a,l,g,f)=>{let c=!1,h=!1;const A={name:s};if(!r.disabled){if(!l||g){(_.isDirty||S.isDirty)&&(h=t.isDirty,t.isDirty=A.isDirty=J(),c=h!==A.isDirty);const p=ne(y(o,s),a);h=!!y(t.dirtyFields,s),p?M(t.dirtyFields,s):E(t.dirtyFields,s,!0),A.dirtyFields=t.dirtyFields,c=c||(_.dirtyFields||S.dirtyFields)&&h!==!p}if(l){const p=y(t.touchedFields,s);p||(E(t.touchedFields,s,l),A.touchedFields=t.touchedFields,c=c||(_.touchedFields||S.touchedFields)&&p!==l)}c&&f&&m.state.next(A)}return c?A:{}},xe=(s,a,l,g)=>{const f=y(t.errors,s),c=(_.isValid||S.isValid)&&H(a)&&t.isValid!==a;if(r.delayError&&l?(b=B(()=>v(s,l)),b(r.delayError)):(clearTimeout(D),b=null,l?E(t.errors,s,l):M(t.errors,s)),(l?!ne(f,l):f)||!q(g)||c){const h={...g,...c&&H(a)?{isValid:a}:{},errors:t.errors,name:s};t={...t,...h},m.state.next(h)}},se=async s=>{V(s,!0);const a=await r.resolver(n,r.context,kr(s||d.mount,i,r.criteriaMode,r.shouldUseNativeValidation));return V(s),a},we=async s=>{const{errors:a}=await se(s);if(s)for(const l of s){const g=y(a,l);g?E(t.errors,l,g):M(t.errors,l)}else t.errors=a;return a},K=async(s,a,l={valid:!0})=>{for(const g in s){const f=s[g];if(f){const{_f:c,...h}=f;if(c){const A=d.array.has(c.name),p=f._f&&Sr(f._f);p&&_.validatingFields&&V([g],!0);const z=await ht(f,d.disabled,n,O,r.shouldUseNativeValidation&&!a,A);if(p&&_.validatingFields&&V([g]),z[c.name]&&(l.valid=!1,a))break;!a&&(y(z,c.name)?A?Ir(t.errors,z,c.name):E(t.errors,c.name,z[c.name]):M(t.errors,c.name))}!q(h)&&await K(h,a,l)}}return l.valid},ue=()=>{for(const s of d.unMount){const a=y(i,s);a&&(a._f.refs?a._f.refs.every(l=>!Be(l)):!Be(a._f.ref))&&Ie(s)}d.unMount=new Set},J=(s,a)=>!r.disabled&&(s&&a&&E(n,s,a),!ne(Ve(),o)),x=(s,a,l)=>pt(s,d,{...u.mount?n:L(a)?o:X(s)?{[s]:a}:a},l,a),C=s=>Ue(y(u.mount?n:o,s,r.shouldUnregister?y(o,s,[]):[])),I=(s,a,l={})=>{const g=y(i,s);let f=a;if(g){const c=g._f;c&&(!c.disabled&&E(n,s,Mt(a,c)),f=Se(c.ref)&&$(a)?"":a,It(c.ref)?[...c.ref.options].forEach(h=>h.selected=f.includes(h.value)):c.refs?_e(c.ref)?c.refs.forEach(h=>{(!h.defaultChecked||!h.disabled)&&(Array.isArray(f)?h.checked=!!f.find(A=>A===h.value):h.checked=f===h.value||!!f)}):c.refs.forEach(h=>h.checked=h.value===f):We(c.ref)?c.ref.value="":(c.ref.value=f,c.ref.type||m.state.next({name:s,values:T(n)})))}(l.shouldDirty||l.shouldTouch)&&R(s,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ce(s)},N=(s,a,l)=>{for(const g in a){if(!a.hasOwnProperty(g))return;const f=a[g],c=s+"."+g,h=y(i,c);(d.array.has(s)||P(f)||h&&!h._f)&&!de(f)?N(c,f,l):I(c,f,l)}},W=(s,a,l={})=>{const g=y(i,s),f=d.array.has(s),c=T(a);E(n,s,c),f?(m.array.next({name:s,values:T(n)}),(_.isDirty||_.dirtyFields||S.isDirty||S.dirtyFields)&&l.shouldDirty&&m.state.next({name:s,dirtyFields:ge(o,n),isDirty:J(s,c)})):g&&!g._f&&!$(c)?N(s,c,l):I(s,c,l),ft(s,d)&&m.state.next({...t}),m.state.next({name:u.mount?s:void 0,values:T(n)})},Q=async s=>{u.mount=!0;const a=s.target;let l=a.name,g=!0;const f=y(i,l),c=p=>{g=Number.isNaN(p)||de(p)&&isNaN(p.getTime())||ne(p,y(n,l,p))},h=dt(r.mode),A=dt(r.reValidateMode);if(f){let p,z;const Fe=a.type?ut(f._f):St(s),ie=s.type===ke.BLUR||s.type===ke.FOCUS_OUT,qt=!Cr(f._f)&&!r.resolver&&!y(t.errors,l)&&!f._f.deps||pr(ie,y(t.touchedFields,l),t.isSubmitted,A,h),Re=ft(l,d,ie);E(n,l,Fe),ie?(f._f.onBlur&&f._f.onBlur(s),b&&b(0)):f._f.onChange&&f._f.onChange(s);const Me=R(l,Fe,ie),Ht=!q(Me)||Re;if(!ie&&m.state.next({name:l,type:s.type,values:T(n)}),qt)return(_.isValid||S.isValid)&&(r.mode==="onBlur"?ie&&F():ie||F()),Ht&&m.state.next({name:l,...Re?{}:Me});if(!ie&&Re&&m.state.next({...t}),r.resolver){const{errors:Xe}=await se([l]);if(c(Fe),g){const zt=yt(t.errors,i,l),et=yt(Xe,i,zt.name||l);p=et.error,l=et.name,z=q(Xe)}}else V([l],!0),p=(await ht(f,d.disabled,n,O,r.shouldUseNativeValidation))[l],V([l]),c(Fe),g&&(p?z=!1:(_.isValid||S.isValid)&&(z=await K(i,!0)));g&&(f._f.deps&&ce(f._f.deps),xe(l,z,p,Me))}},ye=(s,a)=>{if(y(t.errors,a)&&s.focus)return s.focus(),1},ce=async(s,a={})=>{let l,g;const f=ve(s);if(r.resolver){const c=await we(L(s)?s:f);l=q(c),g=s?!f.some(h=>y(c,h)):l}else s?(g=(await Promise.all(f.map(async c=>{const h=y(i,c);return await K(h&&h._f?{[c]:h}:h)}))).every(Boolean),!(!g&&!t.isValid)&&F()):g=l=await K(i);return m.state.next({...!X(s)||(_.isValid||S.isValid)&&l!==t.isValid?{}:{name:s},...r.resolver||!s?{isValid:l}:{},errors:t.errors}),a.shouldFocus&&!g&&me(i,ye,s?f:d.mount),g},Ve=s=>{const a={...u.mount?n:o};return L(s)?a:X(s)?y(a,s):s.map(l=>y(a,l))},He=(s,a)=>({invalid:!!y((a||t).errors,s),isDirty:!!y((a||t).dirtyFields,s),error:y((a||t).errors,s),isValidating:!!y(t.validatingFields,s),isTouched:!!y((a||t).touchedFields,s)}),Tt=s=>{s&&ve(s).forEach(a=>M(t.errors,a)),m.state.next({errors:s?t.errors:{}})},ze=(s,a,l)=>{const g=(y(i,s,{_f:{}})._f||{}).ref,f=y(t.errors,s)||{},{ref:c,message:h,type:A,...p}=f;E(t.errors,s,{...p,...a,ref:g}),m.state.next({name:s,errors:t.errors,isValid:!1}),l&&l.shouldFocus&&g&&g.focus&&g.focus()},Ot=(s,a)=>Y(s)?m.state.subscribe({next:l=>s(x(void 0,a),l)}):x(s,a,!0),Ge=s=>m.state.subscribe({next:a=>{Er(s.name,a.name,s.exact)&&Dr(a,s.formState||_,Wt,s.reRenderRoot)&&s.callback({values:{...n},...t,...a})}}).unsubscribe,Ut=s=>(u.mount=!0,S={...S,...s.formState},Ge({...s,formState:S})),Ie=(s,a={})=>{for(const l of s?ve(s):d.mount)d.mount.delete(l),d.array.delete(l),a.keepValue||(M(i,l),M(n,l)),!a.keepError&&M(t.errors,l),!a.keepDirty&&M(t.dirtyFields,l),!a.keepTouched&&M(t.touchedFields,l),!a.keepIsValidating&&M(t.validatingFields,l),!r.shouldUnregister&&!a.keepDefaultValue&&M(o,l);m.state.next({values:T(n)}),m.state.next({...t,...a.keepDirty?{isDirty:J()}:{}}),!a.keepIsValid&&F()},Ke=({disabled:s,name:a})=>{(H(s)&&u.mount||s||d.disabled.has(a))&&(s?d.disabled.add(a):d.disabled.delete(a))},Le=(s,a={})=>{let l=y(i,s);const g=H(a.disabled)||H(r.disabled);return E(i,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),d.mount.add(s),l?Ke({disabled:H(a.disabled)?a.disabled:r.disabled,name:s}):j(s,!0,a.value),{...g?{disabled:a.disabled||r.disabled}:{},...r.progressive?{required:!!a.required,min:he(a.min),max:he(a.max),minLength:he(a.minLength),maxLength:he(a.maxLength),pattern:he(a.pattern)}:{},name:s,onChange:Q,onBlur:Q,ref:f=>{if(f){Le(s,a),l=y(i,s);const c=L(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,h=Vr(c),A=l._f.refs||[];if(h?A.find(p=>p===c):c===l._f.ref)return;E(i,s,{_f:{...l._f,...h?{refs:[...A.filter(Be),c,...Array.isArray(y(o,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),j(s,!1,void 0,c)}else l=y(i,s,{}),l._f&&(l._f.mount=!1),(r.shouldUnregister||a.shouldUnregister)&&!(Ct(d.array,s)&&u.action)&&d.unMount.add(s)}}},Pe=()=>r.shouldFocusError&&me(i,ye,d.mount),Nt=s=>{H(s)&&(m.state.next({disabled:s}),me(i,(a,l)=>{const g=y(i,l);g&&(a.disabled=g._f.disabled||s,Array.isArray(g._f.refs)&&g._f.refs.forEach(f=>{f.disabled=g._f.disabled||s}))},0,!1))},Ze=(s,a)=>async l=>{let g;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=T(n);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:c,values:h}=await se();t.errors=c,f=h}else await K(i);if(d.disabled.size)for(const c of d.disabled)E(f,c,void 0);if(M(t.errors,"root"),q(t.errors)){m.state.next({errors:{}});try{await s(f,l)}catch(c){g=c}}else a&&await a({...t.errors},l),Pe(),setTimeout(Pe);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(t.errors)&&!g,submitCount:t.submitCount+1,errors:t.errors}),g)throw g},$t=(s,a={})=>{y(i,s)&&(L(a.defaultValue)?W(s,T(y(o,s))):(W(s,a.defaultValue),E(o,s,T(a.defaultValue))),a.keepTouched||M(t.touchedFields,s),a.keepDirty||(M(t.dirtyFields,s),t.isDirty=a.defaultValue?J(s,T(y(o,s))):J()),a.keepError||(M(t.errors,s),_.isValid&&F()),m.state.next({...t}))},Ye=(s,a={})=>{const l=s?T(s):o,g=T(l),f=q(s),c=f?o:g;if(a.keepDefaultValues||(o=l),!a.keepValues){if(a.keepDirtyValues){const h=new Set([...d.mount,...Object.keys(ge(o,n))]);for(const A of Array.from(h))y(t.dirtyFields,A)?E(c,A,y(n,A)):W(A,y(c,A))}else{if(Oe&&L(s))for(const h of d.mount){const A=y(i,h);if(A&&A._f){const p=Array.isArray(A._f.refs)?A._f.refs[0]:A._f.ref;if(Se(p)){const z=p.closest("form");if(z){z.reset();break}}}}for(const h of d.mount)W(h,y(c,h))}n=T(c),m.array.next({values:{...c}}),m.state.next({values:{...c}})}d={mount:a.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!_.isValid||!!a.keepIsValid||!!a.keepDirtyValues,u.watch=!!r.shouldUnregister,m.state.next({submitCount:a.keepSubmitCount?t.submitCount:0,isDirty:f?!1:a.keepDirty?t.isDirty:!!(a.keepDefaultValues&&!ne(s,o)),isSubmitted:a.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:f?{}:a.keepDirtyValues?a.keepDefaultValues&&n?ge(o,n):t.dirtyFields:a.keepDefaultValues&&s?ge(o,s):a.keepDirty?t.dirtyFields:{},touchedFields:a.keepTouched?t.touchedFields:{},errors:a.keepErrors?t.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Je=(s,a)=>Ye(Y(s)?s(n):s,a),jt=(s,a={})=>{const l=y(i,s),g=l&&l._f;if(g){const f=g.refs?g.refs[0]:g.ref;f.focus&&(f.focus(),a.shouldSelect&&Y(f.select)&&f.select())}},Wt=s=>{t={...t,...s}},Qe={control:{register:Le,unregister:Ie,getFieldState:He,handleSubmit:Ze,setError:ze,_subscribe:Ge,_runSchema:se,_focusError:Pe,_getWatch:x,_getDirty:J,_setValid:F,_setFieldArray:U,_setDisabledField:Ke,_setErrors:G,_getFieldArray:C,_reset:Ye,_resetDefaultValues:()=>Y(r.defaultValues)&&r.defaultValues().then(s=>{Je(s,r.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:ue,_disableForm:Nt,_subjects:m,_proxyFormState:_,get _fields(){return i},get _formValues(){return n},get _state(){return u},set _state(s){u=s},get _defaultValues(){return o},get _names(){return d},set _names(s){d=s},get _formState(){return t},get _options(){return r},set _options(s){r={...r,...s}}},subscribe:Ut,trigger:ce,register:Le,handleSubmit:Ze,watch:Ot,setValue:W,getValues:Ve,reset:Je,resetField:$t,clearErrors:Tt,unregister:Ie,setError:ze,setFocus:jt,getFieldState:He};return{...Qe,formControl:Qe}}function Rr(e={}){const r=k.useRef(void 0),t=k.useRef(void 0),[i,o]=k.useState({isDirty:!1,isValidating:!1,isLoading:Y(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Y(e.defaultValues)?void 0:e.defaultValues});if(!r.current)if(e.formControl)r.current={...e.formControl,formState:i},e.defaultValues&&!Y(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...d}=Pr(e);r.current={...d,formState:i}}const n=r.current.control;return n._options=e,je(()=>{const u=n._subscribe({formState:n._proxyFormState,callback:()=>o({...n._formState}),reRenderRoot:!0});return o(d=>({...d,isReady:!0})),n._formState.isReady=!0,u},[n]),k.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),k.useEffect(()=>{e.mode&&(n._options.mode=e.mode),e.reValidateMode&&(n._options.reValidateMode=e.reValidateMode)},[n,e.mode,e.reValidateMode]),k.useEffect(()=>{e.errors&&(n._setErrors(e.errors),n._focusError())},[n,e.errors]),k.useEffect(()=>{e.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,e.shouldUnregister]),k.useEffect(()=>{if(n._proxyFormState.isDirty){const u=n._getDirty();u!==i.isDirty&&n._subjects.state.next({isDirty:u})}},[n,i.isDirty]),k.useEffect(()=>{e.values&&!ne(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values,o(u=>({...u}))):n._resetDefaultValues()},[n,e.values]),k.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),r.current.formState=Et(i,n),r.current}function Mr(e){return vt("MuiLoadingButton",e)}const re=mt("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),Br=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],Tr=e=>{const{loading:r,loadingPosition:t,classes:i}=e,o={root:["root",r&&"loading"],startIcon:[r&&`startIconLoading${oe(t)}`],endIcon:[r&&`endIconLoading${oe(t)}`],loadingIndicator:["loadingIndicator",r&&`loadingIndicator${oe(t)}`]},n=Ft(o,Mr,i);return ee({},i,n)},Or=e=>e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"&&e!=="classes",Ur=be(Kt,{shouldForwardProp:e=>Or(e)||e==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(e,r)=>[r.root,r.startIconLoadingStart&&{[`& .${re.startIconLoadingStart}`]:r.startIconLoadingStart},r.endIconLoadingEnd&&{[`& .${re.endIconLoadingEnd}`]:r.endIconLoadingEnd}]})(({ownerState:e,theme:r})=>ee({[`& .${re.startIconLoadingStart}, & .${re.endIconLoadingEnd}`]:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0}},e.loadingPosition==="center"&&{transition:r.transitions.create(["background-color","box-shadow","border-color"],{duration:r.transitions.duration.short}),[`&.${re.loading}`]:{color:"transparent"}},e.loadingPosition==="start"&&e.fullWidth&&{[`& .${re.startIconLoadingStart}, & .${re.endIconLoadingEnd}`]:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0,marginRight:-8}},e.loadingPosition==="end"&&e.fullWidth&&{[`& .${re.startIconLoadingStart}, & .${re.endIconLoadingEnd}`]:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0,marginLeft:-8}})),Nr=be("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.loadingIndicator,r[`loadingIndicator${oe(t.loadingPosition)}`]]}})(({theme:e,ownerState:r})=>ee({position:"absolute",visibility:"visible",display:"flex"},r.loadingPosition==="start"&&(r.variant==="outlined"||r.variant==="contained")&&{left:r.size==="small"?10:14},r.loadingPosition==="start"&&r.variant==="text"&&{left:6},r.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled},r.loadingPosition==="end"&&(r.variant==="outlined"||r.variant==="contained")&&{right:r.size==="small"?10:14},r.loadingPosition==="end"&&r.variant==="text"&&{right:6},r.loadingPosition==="start"&&r.fullWidth&&{position:"relative",left:-10},r.loadingPosition==="end"&&r.fullWidth&&{position:"relative",right:-10})),$r=le.forwardRef(function(r,t){const i=le.useContext(Zt),o=Yt(i,r),n=xt({props:o,name:"MuiLoadingButton"}),{children:u,disabled:d=!1,id:b,loading:D=!1,loadingIndicator:_,loadingPosition:S="center",variant:m="text"}=n,O=Vt(n,Br),B=ar(b),F=_??w.jsx(gr,{"aria-labelledby":B,color:"inherit",size:16}),V=ee({},n,{disabled:d,loading:D,loadingIndicator:F,loadingPosition:S,variant:m}),U=Tr(V),v=D?w.jsx(Nr,{className:U.loadingIndicator,ownerState:V,children:F}):null;return w.jsxs(Ur,ee({disabled:d||D,id:B,ref:t},O,{variant:m,classes:U,ownerState:V,children:[V.loadingPosition==="end"?u:v,V.loadingPosition==="end"?v:u]}))});function jr({name:e,control:r,label:t}){return w.jsx(wt,{name:e,control:r,rules:{required:"Требуется адрес электронной почты",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Неверный адрес электронной почты"}},render:({field:{onChange:i,value:o},fieldState:{error:n},formState:u})=>w.jsx(At,{required:!0,type:"email",helperText:n==null?void 0:n.message,error:!!n,onChange:i,value:o,fullWidth:!0,name:e,label:t,sx:{mb:3}})})}function Wr({name:e,control:r,label:t}){const[i,o]=le.useState(!1);return w.jsx(wt,{name:e,control:r,rules:{required:"Требуется ввести пароль",minLength:{value:8,message:"Минимальная длина пароля 8 символов"}},render:({field:{onChange:n,value:u},fieldState:{error:d},formState:b})=>w.jsx(At,{required:!0,helperText:d==null?void 0:d.message,error:!!d,onChange:n,value:u,fullWidth:!0,name:e,label:t,type:i?"text":"password",InputProps:{endAdornment:w.jsx(ir,{position:"end",children:w.jsx(Jt,{onClick:()=>o(!i),edge:"end",children:w.jsx(sr,{icon:i?"solar:eye-bold":"solar:eye-closed-bold"})})})},sx:{mb:3}})})}const qr={email:"",password:""};function Hr(){const[e,r]=Qt(["isSignin"]),{control:t,handleSubmit:i,setError:o}=Rr({defaultValues:qr}),n=Xt();le.useEffect(()=>{e.isSignin&&n.push("/")},[e.isSignin,n]);const u=le.useCallback(b=>{b.email==="nfor@trombones.ru"&&b.password==="nfor_trombones"?r("isSignin",!0,{maxAge:3600*24*366}):(o("email",{type:"validation",message:"Неверный логин или пароль"}),o("password",{type:"validation",message:"Неверный логин или пароль"}))},[r,o]),d=w.jsxs(er,{display:"flex",flexDirection:"column",alignItems:"flex-end",children:[w.jsx(jr,{name:"email",label:"Email",control:t}),w.jsx(Wr,{name:"password",label:"Пароль",control:t}),w.jsx($r,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"contained",onClick:i(u),children:"Войти"})]});return w.jsx(w.Fragment,{children:d})}function es(){return w.jsxs(w.Fragment,{children:[w.jsx(tr,{children:w.jsxs("title",{children:[" ",`Войти - ${rr.appName}`]})}),w.jsx(Hr,{})]})}export{es as default};
