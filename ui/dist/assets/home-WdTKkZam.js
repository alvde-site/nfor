import{u as h,j as t,S as m,B as a,L as u,a as j,r as d,I as f,d as g,v as y,b as l,c as C,t as v,D as b,H as L}from"./index-CA1orp26.js";import{C as k}from"./config-global-Cqss7OMM.js";import{L as I,C as w,c as S}from"./Collapse-Cobq3gkw.js";import{L as B}from"./label-JmE4VQ-D.js";import{I as p}from"./flag-icon-CtZSGcle.js";import{C as A}from"./Card-Dw3W9HmZ.js";import{C as P}from"./CardHeader-NxIi5XQG.js";import{A as W}from"./Avatar-Cuk-_Zxo.js";import{G as x}from"./Grid2-Bg1Gb9AC.js";import"./users-CX3G6kN4.js";import"./listItemTextClasses-CkleQvlR.js";function D({title:s,subheader:e,list:o,...r}){const c=h(),i=()=>{c("/concert")};return t.jsxs(A,{...r,children:[r.datalength?t.jsx(P,{title:s,subheader:e,sx:{mb:1}}):"",t.jsx(m,{children:t.jsx(a,{sx:{minWidth:744},children:r.datalength?o.map(n=>t.jsx(E,{item:n},n.id)):t.jsx(u,{sx:{margin:"50px auto 0",width:"90%"}})})}),t.jsx(a,{sx:{p:2,textAlign:"right"},children:t.jsx(j,{size:"small",color:"inherit",endIcon:t.jsx(p,{icon:"eva:arrow-ios-forward-fill",width:18,sx:{ml:-.5}}),onClick:i,children:"Все концерты"})})]})}function E({sx:s,item:e,...o}){const[r,c]=d.useState(!1),i=()=>{c(!r)};return t.jsxs(a,{children:[t.jsxs(a,{sx:{py:2,px:3,gap:2,display:"flex",alignItems:"center",borderBottom:n=>`dashed 1px ${n.vars.palette.divider}`,...s},...o,onClick:i,children:[t.jsx(W,{variant:"rounded",alt:e.title,src:e.coverUrl,sx:{width:48,height:48,flexShrink:0}}),t.jsx(a,{sx:{minWidth:38,flexShrink:0,color:"text.disabled",typography:"caption"},children:t.jsx(f,{"aria-label":"Сообщение",children:e.comments!=="null"&&t.jsx(p,{width:22,icon:"ic:baseline-announcement",sx:{color:"info.main"}})})}),t.jsx(I,{primary:e.title,secondary:e.description,primaryTypographyProps:{noWrap:!0,typography:"subtitle2"},secondaryTypographyProps:{mt:.5,noWrap:!0,component:"span"},sx:{flex:"1 0 auto"}}),t.jsx(a,{sx:{flexShrink:0,color:"text.disabled",typography:"caption"},children:t.jsx(B,{color:e.approved&&"success"||"error",children:e.approved?"Утверждено":"Прогноз"})}),t.jsx(a,{sx:{flexShrink:0,color:"text.disabled",typography:"caption"},children:g(e.concertDate)})]}),e.comments!=="null"&&t.jsx(w,{in:r,timeout:"auto",unmountOnExit:!0,children:t.jsx(a,{sx:{py:2,px:3,gap:2,display:"flex",alignItems:"center",fontStyle:"italic",backgroundColor:n=>`${y(n.vars.palette.info.lighterChannel,.48)}`,borderBottom:n=>`dashed 1px ${n.vars.palette.divider}`,...s},...o,children:e.comments})})]})}l.extend(C);l.extend(v);function H({formattedData:s}){const[e,o]=d.useState([]);return d.useEffect(()=>{function r(){if(s.length){const i=S(s).filter(n=>l().startOf("day")<=l(n.concertDate[n.concertDate.length-1]));o(i)}}r()},[s]),t.jsx(b,{maxWidth:"xl",children:t.jsx(x,{container:!0,spacing:3,children:t.jsx(x,{xs:12,children:t.jsx(D,{title:e.slice(0,10).length?"Ближайшие концерты":"В этом сезоне больше нет концертов",list:e.slice(0,10),datalength:s.length})})})})}function J({data:s}){return t.jsxs(t.Fragment,{children:[t.jsxs(L,{children:[t.jsxs("title",{children:[" ",`Главная - ${k.appName}`]}),t.jsx("meta",{name:"description",content:"Расписание группы тромбонов оркестра НФОР"}),t.jsx("meta",{name:"keywords",content:"НФОР, тромбоны"})]}),t.jsx(H,{formattedData:s})]})}export{J as default};
